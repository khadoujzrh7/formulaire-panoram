<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ù„Ù„ÙÙŠÙ„Ù… Ø§Ù„Ù‚ØµÙŠØ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* CSS complet pour l'apparence sombre et cinÃ©matographique */
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #1a1a2e;
            color: #ffffff;
            margin: 0;
            padding: 0;
            direction: rtl;
            text-align: right;
            line-height: 1.6;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background-color: #0f0f1a;
            border-bottom: 5px solid #ffcc00;
        }

        .logo-container {
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo {
            max-width: 100%;
            height: auto;
            border-radius: 50%; 
        }

        .title-container {
            text-align: center;
            flex-grow: 1;
        }

        .main-title {
            font-size: 2.5em;
            color: #ffcc00;
            margin: 0;
            text-shadow: 2px 2px 4px #000000;
        }

        .subtitle {
            font-size: 1.2em;
            color: #cccccc;
            margin-top: 5px;
        }

        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 20px 40px;
            background-color: #1c1c6e;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .intro-section {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 30px;
            border-bottom: 1px dashed #7f7fbf;
        }

        .section-title {
            color: #ffcc00;
            font-size: 1.8em;
        }

        .form-section-title {
            color: #99c2ff;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #ffcc00;
            display: inline-block;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .input-group input, 
        .input-group select, 
        .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #5c5c8e;
            border-radius: 5px;
            background-color: #3b3b5b;
            color: #ffffff;
            font-size: 1em;
            box-sizing: border-box;
        }

        .input-group textarea {
            resize: vertical;
        }

        .hint {
            font-size: 0.9em;
            color: #aaaaaa;
            margin-top: 5px;
        }

        button[type="submit"] {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #ffcc00;
            color: #1a1a2e;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 30px;
        }

        button[type="submit"]:hover {
            background-color: #e6b800;
        }

        .message-box {
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
            text-align: center;
        }

        .success {
            background-color: #38761d;
            border: 3px solid #6aa84f;
        }

        .error {
            background-color: #cc0000;
            border: 3px solid #ff6666;
        }

        .message-title {
            color: #ffffff;
            margin-top: 0;
            font-size: 1.8em;
        }

        .important-note {
            font-size: 1.1em;
            margin-top: 15px;
        }

        .telegram-number {
            font-size: 2em;
            color: #ffcc00;
            font-weight: bold;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                padding: 15px 5%;
            }
            .logo-container {
                margin: 10px 0;
            }
            .main-title {
                font-size: 2em;
            }
            .container {
                padding: 20px;
            }
        }
    </style>
    </head>
<body>

    <header class="header">
        <div class="logo-container">
            <img src="logo_universite.jpg" alt="Ø´Ø¹Ø§Ø± Ø¬Ø§Ù…Ø¹Ø© Ø£Ø­Ù…Ø¯ Ø²Ø¨Ø§Ù†Ø©" class="logo">
        </div>
        <div class="title-container">
            <h1 class="main-title">Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ù„Ù„ÙÙŠÙ„Ù… Ø§Ù„Ù‚ØµÙŠØ±</h1>
            <p class="subtitle">Ù†Ø§Ø¯ÙŠ Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ - FCE</p>
        </div>
        <div class="logo-container">
            <img src="logo_club.jpg" alt="Ø´Ø¹Ø§Ø± Ù†Ø§Ø¯ÙŠ FCE" class="logo">
        </div>
    </header>

    <div class="container">
        <div class="intro-section">
            <h2 class="section-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h2>
            <p>Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø£Ø¯Ù†Ø§Ù‡ Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§. ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©.</p>
        </div>
        
        <form id="registrationForm">
            
            <h3 class="form-section-title">I. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±Ùƒ</h3>
            <div class="input-group">
                <label for="fullName">Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù„Ù‚Ø¨:</label>
                <input type="text" id="fullName" name="Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ù„Ù‚Ø¨" required>
            </div>
            
            <div class="input-group">
                <label for="nationalID">Ø±Ù‚Ù… Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠØ©:</label>
                <input type="text" id="nationalID" name="Ø±Ù‚Ù… Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠØ©" required pattern="[0-9]{10,}" title="ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙƒÙˆÙ† Ù…Ù† Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·">
                <p class="hint">ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·.</p>
            </div>
            
            <div class="input-group">
                <label for="registrationNumber">Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ (Ù„Ù„Ø·Ù„Ø§Ø¨):</label>
                <input type="text" id="registrationNumber" name="Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ">
            </div>

            <h3 class="form-section-title">II. ØµÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</h3>
            <div class="input-group">
                <label for="participationStatus">ØµÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:</label>
                <select id="participationStatus" name="ØµÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©" required onchange="toggleOtherStatus()">
                    <option value="" disabled selected>-- Ø§Ø®ØªØ± ØµÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© --</option>
                    <option value="Ø§Ù„Ù†ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©">Ø§Ù„Ù†ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</option>
                    <option value="Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨ÙƒØ§Ù…Ù„ Ø§Ù„ØªØ®ØµØµØ§Øª">Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨ÙƒØ§Ù…Ù„ Ø§Ù„ØªØ®ØµØµØ§Øª</option>
                    <option value="Ø§Ù„ØªÙ†Ø¸ÙŠÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠØ©">Ø§Ù„ØªÙ†Ø¸ÙŠÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠØ©</option>
                    <option value="Ù†ÙˆØ§Ø¯ÙŠ Ø¯ÙˆØ± Ø§Ù„Ø´Ø¨Ø§Ø¨">Ù†ÙˆØ§Ø¯ÙŠ Ø¯ÙˆØ± Ø§Ù„Ø´Ø¨Ø§Ø¨</option>
                    <option value="Ø§Ù„Ø¬Ù…Ø¹ÙŠØ§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©">Ø§Ù„Ø¬Ù…Ø¹ÙŠØ§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©</option>
                    <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                </select>
            </div>

            <div class="input-group" id="otherStatusGroup" style="display: none;">
                <label for="otherStatus">ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ© Ø§Ù„Ø£Ø®Ø±Ù‰:</label>
                <input type="text" id="otherStatus" name="ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ© Ø§Ù„Ø£Ø®Ø±Ù‰">
            </div>

            <h3 class="form-section-title">III. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h3>
            <div class="input-group">
                <label for="phoneNumber">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
                <input type="tel" id="phoneNumber" name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required pattern="[0-9]{10}" title="ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ 10 Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† Ø±Ù…ÙˆØ² Ø£Ùˆ Ù…Ø³Ø§ÙØ§Øª)">
                <p class="hint">Ù…Ø«Ø§Ù„: 0553371236</p>
            </div>
            
            <div class="input-group">
                <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Email):</label>
                <input type="email" id="email" name="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
            </div>

            <h3 class="form-section-title">IV. ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙÙŠÙ„Ù…</h3>
            <div class="input-group">
                <label for="filmTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠÙ„Ù…:</label>
                <input type="text" id="filmTitle" name="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠÙ„Ù…" required>
            </div>
            
            <div class="input-group">
                <label for="filmDuration">Ù…Ø¯Ø© Ø§Ù„ÙÙŠÙ„Ù… (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚):</label>
                <input type="number" id="filmDuration" name="Ù…Ø¯Ø© Ø§Ù„ÙÙŠÙ„Ù… (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)" min="3" max="15" step="0.1" required>
                <p class="hint">ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ±Ø§ÙˆØ­ Ø§Ù„Ù…Ø¯Ø© Ø¨ÙŠÙ† 3 Ùˆ 15 Ø¯Ù‚ÙŠÙ‚Ø© ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰. (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ§ØµÙ„ Ø§Ù„Ø¹Ø´Ø±ies)</p>
            </div>
            
            <div class="input-group">
                <label for="filmSynopsis">Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„ÙÙŠÙ„Ù…:</label>
                <textarea id="filmSynopsis" name="Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„ÙÙŠÙ„Ù…" rows="4" required></textarea>
            </div>

            <button type="submit" id="submitButton">âœ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>
        </form>

        <div id="successMessage" class="message-box success" style="display: none;">
            <h2 class="message-title">ğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
            <p>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨ Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ù„Ù„ÙÙŠÙ„Ù… Ø§Ù„Ù‚ØµÙŠØ±.</p>
            <p class="important-note">
                <strong>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ø®ÙŠØ±Ø©:</strong> ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ù Ø§Ù„ÙÙŠÙ„Ù…ØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ **Ø§Ù„Ù…Ù„ØµÙ‚ Ø§Ù„Ø¯Ø¹Ø§Ø¦ÙŠ (Poster)**ØŒ Ø¹Ø¨Ø± ØªØ·Ø¨ÙŠÙ‚ **ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… (Telegram)** Ø¥Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„ØªØ§Ù„ÙŠ:
            </p>
            <p class="telegram-number">ğŸ“ 0553371236</p>
            <p>ÙŠØ¬Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙŠÙ„Ù… ÙˆØ§Ù„Ù…Ù„ØµÙ‚ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù„Ø¶Ù…Ø§Ù† ØªØ£ÙƒÙŠØ¯ Ù…Ø´Ø§Ø±ÙƒØªÙƒ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©.</p>
        </div>
        
        <div id="closureMessage" class="message-box error" style="display: none;">
            <h2 class="message-title">â³ ÙØªØ±Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù†ØªÙ‡Øª</h2>
            <p class="important-note">
                Ù†Ø£Ø³ÙØŒ Ù„ÙƒÙ† ÙØªØ±Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ù„Ù„ÙÙŠÙ„Ù… Ø§Ù„Ù‚ØµÙŠØ± Ù‚Ø¯ Ø§Ù†ØªÙ‡Øª ÙÙŠ 10 Ø¯ÙŠØ³Ù…Ø¨Ø±. Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ….
            </p>
        </div>

        <div id="errorMessage" class="message-box error" style="display: none;">
            <h2 class="message-title">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</h2>
            <p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
            <p>Si l'erreur persiste, assurez-vous que vous testez sur une adresse **publique**.</p>
        </div>

    </div>
    <script>
        // Votre URL Apps Script finale
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxiWADAKbrfTw7b_JGpPhYirroH08CSk6hxio_ZDkgi6GfUgClSuGfBD7ECn0R5klru/exec"; 

        // Fonction pour gÃ©rer l'affichage du champ "Autre"
        function toggleOtherStatus() {
            const statusSelect = document.getElementById('participationStatus');
            const otherStatusGroup = document.getElementById('otherStatusGroup');
            const otherStatusInput = document.getElementById('otherStatus');

            if (statusSelect.value === 'Ø£Ø®Ø±Ù‰') {
                otherStatusGroup.style.display = 'block';
                otherStatusInput.setAttribute('required', 'required');
            } else {
                otherStatusGroup.style.display = 'none';
                otherStatusInput.removeAttribute('required');
                otherStatusInput.value = ''; 
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('registrationForm');
            const submitButton = document.getElementById('submitButton');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            const closureMessage = document.getElementById('closureMessage'); // Nouveau
            const container = document.querySelector('.container');

            // --- LOGIQUE DE VÃ‰RIFICATION DE LA DATE LIMITE (10 dÃ©cembre Ã  00:00:00) ---
            const deadline = new Date('2025-12-10T00:00:00'); 
            const now = new Date();

            if (now >= deadline) {
                // Si la date actuelle est passÃ©e ou Ã©gale Ã  la date limite, fermer le formulaire.
                form.style.display = 'none';
                closureMessage.style.display = 'block';
                return; // ArrÃªter l'exÃ©cution du reste du script
            }
            // --------------------------------------------------------------------------
            
            // 1. Configuration de l'IFRAME invisible pour la soumission
            const iframeName = 'hidden_iframe';
            let iframe = document.getElementById(iframeName);
            if (!iframe) {
                iframe = document.createElement('iframe');
                iframe.id = iframeName;
                iframe.name = iframeName;
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
            }

            // 2. Configure le formulaire pour soumettre Ã  l'URL Apps Script via l'iframe
            form.setAttribute('target', iframeName);
            form.setAttribute('action', SCRIPT_URL);
            form.setAttribute('method', 'POST'); 

            // 3. Ajout de l'Ã©couteur d'Ã©vÃ©nement pour la soumission
            form.addEventListener('submit', function(e) {
                
                // Validation HTML native des champs
                if (!form.checkValidity()) {
                    return; 
                }
                
                // PrÃ©paration de l'Ã©tat de soumission
                successMessage.style.display = 'none';
                errorMessage.style.display = 'none';
                submitButton.disabled = true;
                submitButton.textContent = '... Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„';
                
                // Gestion de la rÃ©ponse de l'iframe aprÃ¨s soumission
                iframe.onload = function() {
                    const iframeContent = iframe.contentWindow.document.body.innerHTML;
                    
                    if (iframeContent.includes('Success')) {
                        // SUCCÃˆS : Masquer le formulaire et afficher le message vert
                        form.style.display = 'none';
                        successMessage.style.display = 'block';
                        container.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        // Ã‰CHEC : Afficher le message rouge
                        errorMessage.style.display = 'block';
                        console.error('Submission failed. Check Google Apps Script deployment settings ("Anyone" access is mandatory) and logs.');
                    }
                    
                    // RÃ©tablit l'Ã©tat initial du bouton
                    submitButton.disabled = false;
                    submitButton.textContent = 'âœ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„';
                    iframe.onload = null;
                };
            });
        });
    </script>
    </body>
</html>